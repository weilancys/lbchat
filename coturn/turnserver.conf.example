# =============================================================================
# Coturn TURN Server Configuration
# =============================================================================
# SETUP INSTRUCTIONS:
# 1. Copy this file: cp turnserver.conf.example turnserver.conf
# 2. Replace YOUR_DOMAIN with your domain (e.g., yourname.duckdns.org)
# 3. Replace YOUR_SERVER_PUBLIC_IP with your VPS's public IP
# 4. Replace YOUR_TURN_PASSWORD - must match TURN_PASSWORD in .env
# =============================================================================

# Network settings
listening-port=3478
tls-listening-port=5349

# Use fingerprint in TURN messages
fingerprint

# Long-term credential mechanism
lt-cred-mech

# Realm - use your domain
realm=YOUR_DOMAIN

# External IP - REQUIRED for VPS deployment
# Replace with your server's public IP address
# external-ip=YOUR_SERVER_PUBLIC_IP

# Authentication
# The password here MUST match TURN_PASSWORD in your .env file
user=lbchat:change_this_turn_password

# Logging
log-file=/var/log/turnserver.log
verbose

# Security
no-multicast-peers
no-cli

# Performance
total-quota=100
bps-capacity=0
stale-nonce=600

# Allowed peer IPs (private networks)
allowed-peer-ip=10.0.0.0-10.255.255.255
allowed-peer-ip=172.16.0.0-172.31.255.255
allowed-peer-ip=192.168.0.0-192.168.255.255
